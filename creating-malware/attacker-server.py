import socket

# we are creating a socket object
# socket.AF_INET means. We are using IPv4, which is denoted by socket.AF_INET.
# If you want to use IPv6 (which you probably won't), you can select socket.AF_INET6

# Second argument socket.SOCK_STREAM is definend for network layer protocol
# In our examples, we want to use a reliable connection, so we will choose TCP.
# socket.SOCK_STREAM means that we are creating a TCP socket.
# If you want to create a UDP socket (which, again, you probably won't for the most part), 
# you can use socket.SOCK_DGRAM .
hacker_socket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)

IP = '192.168.74.110' # Attacker's IP
PORT = 8008 # Port for listeneing incomen request from victim

# you have to give the IP address and port in tuple form to the socket.bind() method.
socket_address = (IP, PORT)
hacker_socket.bind(socket_address)

# we need to listen for incoming connections on the specified socket with the help of
# the following command: its only allows 5 connections at the same time
hacker_socket.listen(5)

print("Listening for incoming connection request")
try:
    hacker_socket, client_address = hacker_socket.accept()
except KeyboardInterrupt:
    print("Cancle the operations")

# Once the client has connected, accept() method
# will return two parameters. The first is hacker_socket , which we can use to send and
# receive data, and the second is the address of the victim. This will help the program to
# know which client is connected.

message = "Pesan dari hacker"
message_bytes = message.encode()

# send message
hacker_socket.send(message_bytes)
print ("Message sent by hacker")
# Close the socket
hacker_socket.close()